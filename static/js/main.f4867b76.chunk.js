(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{17:function(e,t,a){e.exports=a(29)},22:function(e,t,a){},23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(10),s=a.n(i),r=(a(22),a(3)),m=a(6),d=a(14),c=a(11),o=a(12),u=a(15),h=a(13),f=a(2),p=a(16),b=(a(23),function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:"logo.png",className:"headerlogo",alt:"Nord Software"}),l.a.createElement("h1",{className:"headerTitle"},"Nord Software")))}),E=a(7);var v=function(e){var t=e.items,a=e.sort,n=e.itemToEdit,i=t.map((function(t){var a;return a=t.edit?l.a.createElement("div",null,l.a.createElement("button",{className:"cancelButton",onClick:function(){e.cancelEdit(t.id)}},"Cancel"),l.a.createElement("button",{className:"saveButton",onClick:function(a){e.saveItem(t.id)}},"Save")):l.a.createElement("div",null,l.a.createElement(E.a,{className:"faicons",onClick:function(){e.editItem(t.id)},icon:"pencil-alt"}),l.a.createElement(E.a,{className:"faicons",onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&e.deleteItem(t.id)},icon:"trash"})),l.a.createElement("tr",{key:t.id,"data-id":t.id},l.a.createElement("td",null,l.a.createElement("input",{name:"fullName",type:"text",value:t.edit?n.fullName:t.fullName,onChange:function(t){e.handleEditInput(t)},disabled:!t.edit})),l.a.createElement("td",null,l.a.createElement("input",{name:"emailAddress",type:"text",value:t.edit?n.emailAddress:t.emailAddress,onChange:function(t){e.handleEditInput(t)},disabled:!t.edit})),l.a.createElement("td",null,l.a.createElement("input",{name:"phoneNumber",type:"text",value:t.edit?n.phoneNumber:t.phoneNumber,onChange:function(t){e.handleEditInput(t)},disabled:!t.edit})),l.a.createElement("td",null,a))}));return l.a.createElement("table",{className:"contactsList"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:a.name,onClick:function(t){return e.sortTable("name")}},"Name")),l.a.createElement("td",null,l.a.createElement("div",{className:a.email,onClick:function(t){return e.sortTable("email")}},"E-mail address")),l.a.createElement("td",null,l.a.createElement("div",{className:a.phone,onClick:function(t){return e.sortTable("phone")}},"Phone number")),l.a.createElement("td",null))),l.a.createElement("tbody",null,i))},N=a(4),I=a(8);N.b.add(I.b),N.b.add(I.a);var A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={items:[],currentItem:{fullName:"",emailAddress:"",phoneNumber:"",id:""},itemToEdit:{fullName:"",emailAddress:"",phoneNumber:"",id:""},sort:{name:"default",email:"default",phone:"default"}},a.addItem=a.addItem.bind(Object(f.a)(a)),a.cancelEdit=a.cancelEdit.bind(Object(f.a)(a)),a.saveItem=a.saveItem.bind(Object(f.a)(a)),a.handleAddInput=a.handleAddInput.bind(Object(f.a)(a)),a.handleEditInput=a.handleEditInput.bind(Object(f.a)(a)),a.editItem=a.editItem.bind(Object(f.a)(a)),a.deleteItem=a.deleteItem.bind(Object(f.a)(a)),a.sortTable=a.sortTable.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("contacts.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"addItem",value:function(e){e.preventDefault();var t=this.state.currentItem,a=this.validateInputs(t);if(!0!==a)return alert("Please fix these issues:\n"+a),!1;var n=[t].concat(Object(d.a)(this.state.items));this.setState({items:n,currentItem:{fullName:"",emailAddress:"",phoneNumber:"",id:""}})}},{key:"handleAddInput",value:function(e){var t,a=e.target.name;this.setState({currentItem:Object(m.a)({},this.state.currentItem,(t={},Object(r.a)(t,a,e.target.value),Object(r.a)(t,"id",Date.now()),t))})}},{key:"handleEditInput",value:function(e){var t=e.target.name;this.setState({itemToEdit:Object(m.a)({},this.state.itemToEdit,Object(r.a)({},t,e.target.value))})}},{key:"saveItem",value:function(e){var t=this.state.items,a=this.state.itemToEdit,n=this.validateInputs(a);if(!0!==n)return alert("Please fix these issues:\n"+n),!1;t.forEach((function(t){t.id===e&&(t.fullName=a.fullName,t.emailAddress=a.emailAddress,t.phoneNumber=a.phoneNumber)})),this.setState({items:t,itemToEdit:{fullName:"",emailAddress:"",phoneNumber:"",id:""}}),this.cancelEdit(e)}},{key:"editItem",value:function(e){var t=this.state.items,a="",n="",l="";t.forEach((function(t){t.id===e?(t.edit=!0,a=t.fullName,n=t.emailAddress,l=t.phoneNumber):t.edit=!1})),this.setState({itemToEdit:{fullName:a,emailAddress:n,phoneNumber:l,id:e}}),this.setState({items:t})}},{key:"cancelEdit",value:function(e){var t=this.state.items;t.forEach((function(e){e.edit=!1})),this.setState({items:t})}},{key:"deleteItem",value:function(e){var t=this.state.items.filter((function(t){return t.id!==e}));this.setState({items:t})}},{key:"sortTable",value:function(e){var t=this.state.items,a="";a="default"===this.state.sort[e]||"desc"===this.state.sort[e]?"asc":"desc","name"===e?"asc"===a?t.sort((function(e,t){return e.fullName.localeCompare(t.fullName)})):t.sort((function(e,t){return t.fullName.localeCompare(e.fullName)})):"email"===e?"asc"===a?t.sort((function(e,t){return e.emailAddress.localeCompare(t.emailAddress)})):t.sort((function(e,t){return t.emailAddress.localeCompare(e.emailAddress)})):"phone"===e&&("asc"===a?t.sort((function(e,t){return e.phoneNumber.localeCompare(t.phoneNumber)})):t.sort((function(e,t){return t.phoneNumber.localeCompare(e.phoneNumber)}))),this.setState({items:t,sort:Object(r.a)({},e,a)})}},{key:"validateInputs",value:function(e){var t=e.fullName.toString(),a=e.emailAddress.toString(),n=e.phoneNumber.toString(),l="";return""===t?l+="\t- Name cannot be empty\n":!1===/^[a-zA-Z0-9.\s]{5,30}$/.test(t)&&(l+="\t- Name can only contain letters, numbers and space and must be 5-20 characters.\n"),""===a?l+="\t- Email address cannot be empty\n":!1===/^[a-zA-Z0-9.-]{3,15}@[a-zA-Z0-9-]{3,10}.[a-zA-Z]{2,5}$/.test(a)&&(l+="\t- Please enter a valid email address\n"),""===n?l+="\t- Phone number cannot be empty\n":!1===/^\d{10}$/.test(n)&&(l+="\t- Phone number can only contain numbers and must have 10 digits\n"),""===l||l}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b,null),l.a.createElement("h1",{className:"listHeader"},"List of participants"),l.a.createElement("form",{id:"to-do-form",onSubmit:this.addItem},l.a.createElement("table",{className:"addcontacts"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",placeholder:"Full name",name:"fullName",value:this.state.currentItem.fullName,onChange:this.handleAddInput})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",placeholder:"E-mail address",name:"emailAddress",value:this.state.currentItem.emailAddress,onChange:this.handleAddInput})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",placeholder:"Phone number",name:"phoneNumber",value:this.state.currentItem.phoneNumber,onChange:this.handleAddInput})),l.a.createElement("td",null,l.a.createElement("button",{type:"submit"},"Add new")))))),l.a.createElement(v,{items:this.state.items,sort:this.state.sort,itemToEdit:this.state.itemToEdit,cancelEdit:this.cancelEdit,editItem:this.editItem,saveItem:this.saveItem,deleteItem:this.deleteItem,handleEditInput:this.handleEditInput,sortTable:this.sortTable}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.f4867b76.chunk.js.map